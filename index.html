<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>LMS — Початок</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Inter:wght@300;400;500&display=swap');

    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      height: 100vh;
      background: #000;
      color: #f3eed7;
      font-family: 'Inter', sans-serif;
      overflow: hidden;
    }

    #scene {
      position: fixed;
      inset: 0;
      perspective: 1800px;
      background: radial-gradient(circle at 50% 40%, #0f0f0f 0%, #000 75%);
    }

    .year {
      position: absolute;
      font-family: 'Cormorant Garamond', serif;
      font-weight: 400;
      font-size: clamp(1.1rem, 2.8vw, 2.8rem);
      color: rgba(243, 238, 215, 0.38);
      text-shadow: 0 0 12px rgba(243,238,215,0.25);
      pointer-events: none;
      will-change: transform, opacity, filter;
      transform-style: preserve-3d;
    }

    .intro {
      position: relative;
      z-index: 10;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 4vw;
      transition: opacity 1.6s ease;
    }

    h1 {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(3.2rem, 8vw, 7.2rem);
      font-weight: 500;
      line-height: 0.92;
      margin-bottom: 1.2rem;
      letter-spacing: -0.01em;
    }

    .subtitle {
      font-size: clamp(1.1rem, 2.4vw, 1.5rem);
      max-width: 720px;
      opacity: 0.88;
      line-height: 1.55;
      margin-bottom: 3rem;
    }

    button {
      padding: 1rem 3.5rem;
      font-size: 1rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      background: transparent;
      border: 1.5px solid rgba(243,238,215,0.55);
      color: #f3eed7;
      cursor: pointer;
      transition: all 0.4s ease;
    }

    button:hover {
      border-color: #f3eed7;
      background: rgba(243,238,215,0.08);
      transform: translateY(-3px);
    }

    #fade {
      position: fixed;
      inset: 0;
      background: #000;
      opacity: 0;
      transition: opacity 1.8s ease-in;
      z-index: 20;
      pointer-events: none;
    }

    body.flying .intro { opacity: 0; }
  </style>
</head>
<body>

  <div id="scene"></div>

  <div class="intro">
    <h1>Навчання — це подорож</h1>
    <p class="subtitle">Крізь час і знання</p>
    <button id="startBtn">ПОЧАТИ</button>
  </div>

  <div id="fade"></div>

  <script>
    const scene = document.getElementById('scene');
    const btn = document.getElementById('startBtn');
    const fade = document.getElementById('fade');

    const years = [];
    const now = new Date().getFullYear();
    const minY = 1700;
    const maxY = now + 40;

    // Створюємо дати навколо (не в центрі)
    for (let i = 0; i < 90; i++) {   // менше, щоб не було каші
      const el = document.createElement('div');
      el.className = 'year';
      const year = minY + Math.floor(Math.random() * (maxY - minY + 1));
      el.textContent = year;
      scene.appendChild(el);

      const angle = Math.random() * Math.PI * 2;
      const radius = 400 + Math.random() * 900;  // від центру подалі
      const x = Math.cos(angle) * radius;
      const y = (Math.sin(angle) * radius * 0.6) + (Math.random() - 0.5) * 400;
      const z = (Math.random() - 0.5) * 1400 - 300;

      years.push({
        el,
        x, y, z,
        vx: (Math.random() - 0.5) * 1.4,
        vy: (Math.random() - 0.5) * 1.1,
        vz: (Math.random() - 0.5) * 0.9,
        baseOpacity: 0.32 + Math.random() * 0.18
      });

      el.style.opacity = years[i].baseOpacity;
      el.style.transform = `translate3d(${x}px, ${y}px, ${z}px)`;
    }

    let flying = false;
    let startTime = 0;

    function animate(ts) {
      if (!flying) {
        // повільний природний дрейф
        years.forEach(d => {
          d.x += d.vx * 0.6;
          d.y += d.vy * 0.6;
          d.z += d.vz * 0.4;
          d.el.style.transform = `translate3d(${d.x}px, ${d.y}px, ${d.z}px)`;
        });
      } else {
        const t = Math.min((ts - startTime) / 1600, 1);  // 1.6 с
        const e = t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;

        years.forEach(d => {
          d.x += (0 - d.x) * e * 2.2;
          d.y += (0 - d.y) * e * 2.2;
          d.z += 3200 * e;

          const scale = 1 + e * 3.5;
          const blur = e * 14;

          d.el.style.transform = `translate3d(${d.x}px, ${d.y}px, ${d.z}px) scale(${scale})`;
          d.el.style.opacity = Math.max(0, d.baseOpacity - e * 1.6);
          d.el.style.filter = `blur(${blur}px)`;
        });

        if (t >= 1) {
          location.href = './main.html#overview';
        }
      }

      requestAnimationFrame(animate);
    }

    requestAnimationFrame(animate);

    btn.addEventListener('click', () => {
      if (flying) return;
      flying = true;
      startTime = performance.now();
      document.body.classList.add('flying');
      fade.style.opacity = '1';
      btn.style.pointerEvents = 'none';
    });
  </script>
</body>
</html>