<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>LMS — Початок</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Inter:wght@300;400;500&display=swap');

    * { box-sizing: border-box; margin:0; padding:0; }
    body {
      height: 100vh;
      background: #000;
      color: #f3eed7;
      font-family: 'Inter', sans-serif;
      overflow: hidden;
      cursor: default;
    }

    #scene {
      position: fixed;
      inset: 0;
      perspective: 2200px;               /* глибше для сильного ефекту */
      transform-style: preserve-3d;
      background: radial-gradient(circle at 50% 40%, #0a0a0a 0%, #000 75%);
      will-change: transform;
    }

    .year {
      position: absolute;
      left: 50%; top: 50%;
      transform: translate(-50%, -50%);
      font-family: 'Cormorant Garamond', serif;
      font-weight: 500;
      font-size: clamp(1.8rem, 5vw, 6.5rem);
      letter-spacing: 0.06em;
      color: rgba(243, 238, 215, 0.55);   /* чітко видно */
      text-shadow: 0 0 18px rgba(243,238,215,0.45), 0 0 40px rgba(0,0,0,0.9);
      pointer-events: none;
      will-change: transform, opacity, filter;
      backface-visibility: hidden;
    }

    .intro {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      z-index: 10;
      padding: 5vw;
      transition: opacity 1.2s ease-out, transform 1.6s cubic-bezier(0.16,1,0.3,1);
    }

    h1 {
      font-size: clamp(4.5rem, 12vw, 14rem);
      font-weight: 500;
      margin: 0 0 1.5rem;
      line-height: 0.9;
      text-shadow: 0 15px 60px rgba(0,0,0,0.8);
    }

    .subtitle {
      font-size: clamp(1.3rem, 2.8vw, 2rem);
      max-width: 800px;
      opacity: 0.92;
      line-height: 1.6;
      margin: 0 0 4rem;
    }

    button {
      font-size: 1.15rem;
      letter-spacing: 0.35em;
      text-transform: uppercase;
      padding: 1.3rem 4rem;
      background: transparent;
      color: #f3eed7;
      border: 2px solid rgba(243,238,215,0.5);
      cursor: pointer;
      transition: all 0.5s ease;
    }

    button:hover {
      border-color: #f3eed7;
      background: rgba(243,238,215,0.1);
      transform: translateY(-4px) scale(1.03);
    }

    #fade {
      position: fixed;
      inset: 0;
      background: #000;
      opacity: 0;
      transition: opacity 1.4s ease-in;
      z-index: 30;
      pointer-events: none;
    }

    body.flying .intro {
      opacity: 0;
      transform: translateY(-15%) scale(0.85);
    }

    body.flying #fade {
      opacity: 1;
    }
  </style>
</head>
<body>

  <div id="scene"></div>

  <div class="intro">
    <h1>Навчання — це подорож</h1>
    <p class="subtitle">Через століття знань і відкриттів.<br>Час невблаганний. Почніть, поки є можливість.</p>
    <button id="go">ПОЧАТИ</button>
  </div>

  <div id="fade"></div>

  <script>
    const scene = document.getElementById('scene');
    const goBtn = document.getElementById('go');
    const fade = document.getElementById('fade');

    const COUNT = 160;
    const years = [];
    const now = new Date().getFullYear();

    for (let i = 0; i < COUNT; i++) {
      const el = document.createElement('div');
      el.className = 'year';
      const year = 1700 + Math.floor(Math.random() * (now + 50 - 1700));
      el.textContent = year;
      scene.appendChild(el);

      const data = {
        el,
        x: (Math.random() - 0.5) * 2200,
        y: (Math.random() - 0.5) * 1600,
        z: (Math.random() - 0.5) * 3000 - 800,
        vx: (Math.random() - 0.5) * 2.2,
        vy: (Math.random() - 0.5) * 1.8,
        vz: (Math.random() - 0.5) * 1.4,
        opacity: 0.38 + Math.random() * 0.42
      };
      years.push(data);
      el.style.opacity = data.opacity;
      el.style.transform = `translate3d(${data.x}px,${data.y}px,${data.z}px)`;
    }

    let isFlying = false;
    let flyStart = 0;

    function raf(ts) {
      if (!isFlying) {
        // Дрейфування — помітніше
        years.forEach(d => {
          d.x += d.vx;
          d.y += d.vy;
          d.z += d.vz;
          d.el.style.transform = `translate3d(${d.x}px,${d.y}px,${d.z}px)`;
        });
      } else {
        const elapsed = ts - flyStart;
        const t = Math.min(elapsed / 1400, 1);  // 1.4 секунди — швидко і драматично
        const e = t < 0.3 ? 8 * t**3 : 1 - (-2*t + 2)**3 / 2;  // різкий старт, плавне уповільнення

        years.forEach(d => {
          // Швидке зібрання до центру + політ уперед
          const pull = e * 3.5;
          d.x += (0 - d.x) * pull;
          d.y += (0 - d.y) * pull;
          d.z += 3800 * e + d.vz * 80;   // дуже сильний Z-поштовх

          d.opacity = Math.max(0, d.opacity - e * 2.2);
          d.el.style.opacity = d.opacity;
          d.el.style.filter = `blur(${e * 12}px)`;  // сильне розмиття
          d.el.style.transform = `translate3d(${d.x}px,${d.y}px,${d.z}px) scale(${1 + e * 4})`;  // масштабування
        });

        // Камера летить уперед + легке тремтіння
        const camZ = -1200 * e;
        scene.style.transform = `translate3d(0,0,${camZ}px) scale(${1 + e * 0.6})`;

        if (elapsed > 1400) {
          location.replace('./main.html#overview');  // replace — без історії назад
        }
      }

      requestAnimationFrame(raf);
    }

    requestAnimationFrame(raf);

    goBtn.onclick = () => {
      if (isFlying) return;
      isFlying = true;
      flyStart = performance.now();
      document.body.classList.add('flying');
      fade.style.opacity = '1';
      goBtn.disabled = true;
    };
  </script>
</body>
</html>