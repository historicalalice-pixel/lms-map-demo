<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>LMS — Intro</title>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Inter:wght@300;400;500&display=swap');

  *{box-sizing:border-box}
  html,body{margin:0;height:100%;background:#05070d;color:#e8eefc;overflow:hidden}

  #intro{
    position:fixed; inset:0;
    background: radial-gradient(1200px 700px at 50% 45%, rgba(30,60,140,.35), rgba(7,10,22,.9) 60%, #05070d 100%);
    overflow:hidden;
  }

  #stage{
    position:absolute; inset:0;
    perspective:1400px;
    transform-style:preserve-3d;
  }

  #cloud{
    position:absolute; inset:-30%;
    transform-style:preserve-3d;
  }

  #warp{
    position:absolute; inset:-50%;
    pointer-events:none;
    opacity:0;
    transition:opacity .4s ease;
  }
  .streak{
    position:absolute;
    width:2px;
    height:clamp(90px, 20vh, 260px);
    background:linear-gradient(to bottom, transparent, rgba(232,238,252,.45), transparent);
    filter:blur(0.5px);
    opacity:0;
  }

  .intro-content{
    position:absolute; left:50%; top:50%;
    transform:translate(-50%,-50%);
    text-align:center;
    width:min(920px,92vw);
    z-index:10;
    transition: all .8s cubic-bezier(.2,.9,.1,1);
  }

  h1{
    font-family:"Cormorant Garamond", serif;
    font-size:clamp(48px,7.5vw,92px);
    font-weight:500;
    letter-spacing:.02em;
    margin:0 0 16px;
    opacity:0;
    transform:translateY(30px);
    transition: all 1.2s ease;
  }
  .intro-content.visible h1{
    opacity:1;
    transform:translateY(0);
  }

  .timer{
    font-family:Inter, monospace;
    font-size:clamp(32px,4vw,52px);
    font-weight:400;
    letter-spacing:.15em;
    color:#7dd3fc;
    margin:20px 0 30px;
    opacity:0.9;
    text-shadow:0 0 30px rgba(125,211,252,.6);
  }

  p{
    font-family:Inter, system-ui, sans-serif;
    font-size:clamp(15px,1.6vw,17px);
    opacity:.78;
    line-height:1.65;
    margin:0 0 32px;
  }

  #enterBtn{
    font-family:Inter, sans-serif;
    letter-spacing:.25em;
    text-transform:uppercase;
    font-size:13.5px;
    padding:16px 38px;
    background:transparent;
    color:#e8eefc;
    border:1.5px solid rgba(232,238,252,.35);
    transition:all .3s ease;
  }
  #enterBtn:hover{
    background:rgba(232,238,252,.08);
    border-color:#7dd3fc;
    transform:translateY(-2px);
  }

  .hint{
    position:fixed; left:20px; bottom:18px;
    font-size:12px; opacity:.5;
    z-index:10;
  }

  .year{
    position:absolute;
    font-family:Inter, sans-serif;
    color:rgba(232,238,252,.24);
    font-size:15px;
    text-shadow:0 8px 30px rgba(0,0,0,.6);
    pointer-events:none;
    transform-style:preserve-3d;
  }

  body.is-flying .intro-content{ opacity:0; transform:translate(-50%,-58%) scale(0.95); }
  body.is-flying #warp{ opacity:1; }
</style>
</head>

<body>
<div id="intro">
  <div id="stage">
    <div id="warp"></div>
    <div id="cloud"></div>
  </div>

  <div class="intro-content" id="center">
    <h1>Навчання — це подорож</h1>
    <div class="timer" id="timer">01:30</div>
    <p>У тебе є лише 90 секунд, щоб відчути атмосферу.<br>Час спливає.</p>
    <button id="enterBtn">ПОЧАТИ ЗАРАЗ</button>
  </div>
</div>

<div class="hint">ПОЧАТИ → проліт → main.html</div>

<script>
  // === Твій старий код з роками та streaks (скорочено для зручності) ===
  const rand = (min, max) => min + Math.random()*(max-min);
  const stage = document.getElementById('stage');
  const cloud = document.getElementById('cloud');
  const warp = document.getElementById('warp');
  const enterBtn = document.getElementById('enterBtn');
  const timerEl = document.getElementById('timer');

  // Створення років (70 штук) — той самий код, що був у тебе
  const YEARS_COUNT = 70;
  const years = [];
  const now = new Date().getFullYear();
  for (let i = 0; i < YEARS_COUNT; i++) {
    const el = document.createElement('div');
    el.className = 'year';
    const y = Math.floor(rand(1800, now));
    el.innerHTML = `<span>${y}</span>`;
    cloud.appendChild(el);

    const r = rand(140, 520);
    const a = rand(0, Math.PI*2);
    const p = {
      el, 
      x: Math.cos(a)*r + rand(-140,140),
      y: Math.sin(a)*r + rand(-90,90),
      z: rand(-320, 260),
      vx: rand(-0.08, 0.08),
      vy: rand(-0.06, 0.06),
      vz: rand(-0.05, 0.05),
      s: rand(0.9, 1.4),
      o: rand(0.16, 0.38)
    };
    years.push(p);
    el.style.transform = `translate3d(${p.x}px,${p.y}px,${p.z}px) scale(${p.s})`;
    el.style.opacity = p.o;
  }

  // Створення speed lines
  for (let i = 0; i < 48; i++) {
    const s = document.createElement('div');
    s.className = 'streak';
    s.style.left = rand(0,100) + '%';
    s.style.top = rand(-50,120) + '%';
    s.style.transform = `rotate(${rand(-12,12)}deg)`;
    warp.appendChild(s);
  }

  // Mouse parallax
  let mx = 0, my = 0;
  window.addEventListener('mousemove', e => {
    mx = (e.clientX / window.innerWidth - 0.5) * 45;
    my = (e.clientY / window.innerHeight - 0.5) * 32;
  });

  // === ТАЙМЕР 90 секунд ===
  let timeLeft = 90;
  let timerInterval;

  function startTimer() {
    timerInterval = setInterval(() => {
      timeLeft--;
      const min = String(Math.floor(timeLeft / 60)).padStart(2, '0');
      const sec = String(timeLeft % 60).padStart(2, '0');
      timerEl.textContent = `${min}:${sec}`;

      if (timeLeft <= 15) timerEl.style.color = '#f87171';

      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        startFlight();
      }
    }, 1000);
  }

  // Анімація появи тексту
  setTimeout(() => {
    document.getElementById('center').classList.add('visible');
  }, 400);

  // Запуск таймеру
  startTimer();

  // Клік на кнопку
  enterBtn.addEventListener('click', () => {
    clearInterval(timerInterval);
    startFlight();
  });

  function startFlight() {
    document.body.classList.add('is-flying');
    
    // Прискорюємо рух років і warp
    setTimeout(() => {
      window.location.href = './main.html#overview';
    }, 1100);
  }

  // Основний loop (трохи покращений)
  function tick() {
    const camX = mx;
    const camY = my;

    cloud.style.transform = `translate3d(${camX}px,${camY}px,0) rotateX(${-my*7}deg) rotateY(${mx*9}deg)`;

    years.forEach(p => {
      p.x += p.vx * 1.02;
      p.y += p.vy * 1.02;
      p.z += p.vz * 1.02;

      p.el.style.transform = `translate3d(${p.x}px,${p.y}px,${p.z}px) scale(${p.s})`;
    });

    requestAnimationFrame(tick);
  }

  requestAnimationFrame(tick);
</script>
</body>
</html>